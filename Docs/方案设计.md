# 软件的实现

关于整个app如何实现，我大概构思了几个部分。你们看一下，不合理的地方修改一下，或者再补充一些好的功能。

## V1.1beta

功能方面，主要的目的是模仿、致敬烧杯这样的 APP，烧杯的主体思想是用模拟的方式去向不熟悉的化学实验的人展示化学实验。关于雾霾，主要想做到的功能就是模拟雾霾。用建模的方式模拟雾霾。体验方面类似于 google spotlight stories，同时可以借鉴 InMind 的一些元素。
功能上由浅入深可以分为：

1. 模型可以导入 SceneKit 的场景中。
2. 实现可以调节的雾化效果。
3. 获取设备的方向，然后同步到所处模型的世界中。
4. 可以获取运动的速度，从而可以在所处模型的世界中运动。（时间充裕可以尝试）
5. 可以用点击、长时间观察（参考 InMind 的交互）的方式和模型世界中的物体进行交互
6. 模型世界会有一些潜藏的彩蛋，就是某个特定时间在某个地点会发生一些事情。（比如根据当地的天气模型世界会有仿真模式模拟当地的天气情况）
7. 模型世界的模型可以服务器进行控制。也就是可以通过服务器进行模型世界事件、物体的分发。（如果用 swift 实现服务器接口更佳）
8. （如果有空）简单尝试 AR.

然后在雾霾的相关性方面，主要是借用模型世界的内容作为关联，可以有：

1. 模仿不同PM2.5 值的雾霾下的环境情况。
2. 根据地理位置自动模拟当前位置的环境
3. 在某一个地点，模仿『卜石』的形式介绍有害物质的分类。
4. 在某一个地点，展现雾霾中有害物质进入身体的过程，可以参考『穹顶之上』的动画
5. 做了某种操作，比如焚烧某种物质会导致雾霾严重。

在比赛的意义方面（主要是和评委们吹），可以认为以上的所有的功能基本上除了没有实现VR眼镜的那种效果以外，基本上做出了 VR 的其他效果，这里可以作为吹嘘的地方。

## V1.0版本

应用在竖直方向全屏显示，屏幕底部有一个`SegmentControl`，大概有三四个Item，这个表示我们的应用大概有三四个模块组成。目前想到的是三个，可以再拓展拓展。整体结构也可以大调整，不一定非要用`SegmentControl`做。比如可以在首页选择进入那个子页面，交互动画做的酷炫一些，看完一个子页面之后可以回到主页面。

### 第一个Item：全景雾霾：

假象一下我们站在半空中，可以水平的360°环顾四周，也可以向上向下看。屏幕右侧有一个`UISlider`滑竿，可以调节雾霾严重程度。目前雾化效果的demo已经完成。

这部分的主要难点在于素材怎么处理，因为很多`SceneKit`的Demo都是从外向内看某一个物体，而现在的需求是站在中心向外看。

### 第二个Item：PM2.5的危害：

PM10或者更大的颗粒物可以被人体的呼吸系统阻挡，比如鼻腔里的鼻毛(具体工作原理和数据需要核实)。而PM2.5甚至可以穿透肺泡进入血液。这一过程可以用`SceneKit`来做，主要是模拟物理规律的粒子碰撞效果。

因为没动手写过粒子碰撞效果，没有发言权，但是从目前来看这方面的教程和代码还是有一些的，能够实现的可能性比较大。

### 第三个Item：PM2.5组成的科普

这个想法来源于今天在CocoaChina上看到的Demo。我们可以介绍雾霾中的主要有害物质，比如二氧化硫、二氧化氮等，通过`SceneKit`在三维空间模拟它的分子结构。个人感觉这个纯属炫技，实用性以及和主题的关联度不是很强。

优点在于和iOS开发的联系多一些，`SceneKit`的使用会非常简单，比较容易实现(目前我认为实现起来毫无技术难度)。

### 第四个Item：

如果时间和技术允许，还可以考虑再拓展拓展功能。前三个功能都是用`SceneKit`实现，可以考虑用AR做些酷炫的效果。

